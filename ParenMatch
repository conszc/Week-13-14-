import java.util.*;
import java.util.Scanner;
public class ParenMatch
{
 public static void main (String[] args)
 {
Stack s = new Stack();
String line; // the string of characters to be checked
Scanner scan = new Scanner(System.in);
System.out.println ("\nParenthesis Matching");
System.out.print ("Enter a parenthesized expression: ");
line = scan.nextLine();

boolean error = false;
int errorIndex = -1;
// loop to process the line one character at a time
for(int i=0; i < line.length() && !error; i++){
    char ch = line.charAt(i);
    
    if(ch==')') {
        s.push(ch);
    }
    else if (ch==')') {
        if (s.isEmpty()) {
            error = true;
            errorIndex = i;
        }
        else {
            s.pop();
        }
    }
    
}
// print the results
if(error) {
    System.out.println("Error: too many right parentheses. ");
    System.out.println("Expression occured at: " + line.substring(0, errorIndex + 1));
}
else if(!s.isEmpty()){
    System.out.println("Parentheses match!");
    System.out.println("Expression: " + line);
        }
    }
}
